<form class="w-50" (ngSubmit)="onSubmit(itemForm)" #itemForm="ngForm">

  <input name="product"
    placeholder="Product"
    class="form-control m-3"
    [(ngModel)]="item.product"
    required minlength="3"
    #product="ngModel">

  @if (product.invalid && (product.dirty || product.touched)) {
    @if (product.errors!['required']) {
      <div class="text-danger mx-3">
        Product name required
      </div>
    }

    @if (product.errors!['minlength']) {
      <div class="text-danger mx-3">
        The product name must contain at least 3 characters
      </div>
    }
  }

  <input name="price"
    type="number"
    placeholder="price"
    class="form-control m-3"
    [(ngModel)]="item.price"
    required min="0.01" step="0.01"
    #price="ngModel">

  @if (price.invalid && (price.dirty || price.touched)) {
    @if (price.errors!['required']) {
      <div class="text-danger mx-3">
        Price required
      </div>
    }

    @if (price.errors!['min']) {
      <div class="text-danger mx-3">
        The price of the product must be at least 0.01
      </div>
    }
  }

  <input name="quantity"
    type="number"
    placeholder="quantity"
    class="form-control m-3"
    [(ngModel)]="item.quantity"
    required min="1" step="1"
    #quantity="ngModel">

  @if (quantity.invalid && (quantity.dirty || quantity.touched)) {
    @if (quantity.errors!['required']) {
      <div class="text-danger mx-3">
        Quantity required
      </div>
    }

    @if (quantity.errors!['min']) {
      <div class="text-danger mx-3">
        The quantity of the product must be at least 1
      </div>
    }
  }

    <button class="btn btn-primary m-3" [disabled]="!itemForm.valid">
      New Item
    </button>
</form>
